{"version":3,"sources":["../src/selector.js"],"names":["define","init","displayTitle","document","getElementById","pluginFrame","eventsApi","CVEventsApi","contentWindow","userSetTitle","onkeyup","e","target","value","on","event","detail","getElementsByName","title","embed","width","height","autoplay","embedHtml","embedLink","thumbnailUrl"],"mappings":"AAoBAA,OAAM,0BAAC,EAAD,CAAK,UAAW,CAClB,MAAO,CACHC,IAAI,CAAE,eAAY,CACd,GAAIC,CAAAA,CAAY,CAAGC,QAAQ,CAACC,cAAT,CAAwB,SAAxB,CAAnB,CACIC,CAAW,CAAGF,QAAQ,CAACC,cAAT,CAAwB,kBAAxB,CADlB,CAEIE,CAAS,CAAG,GAAIC,CAAAA,WAAJ,CAAgBF,CAAW,CAACG,aAA5B,CAFhB,CAGIC,CAAY,GAHhB,CAKA,GAAIP,CAAJ,CAAkB,CACdA,CAAY,CAACQ,OAAb,CAAuB,SAAUC,CAAV,CAAa,CAChC,GAAIA,CAAC,CAACC,MAAF,CAASC,KAAb,CAAoB,CAChBJ,CAAY,GACf,CACJ,CACJ,CAEDH,CAAS,CAACQ,EAAV,CAAa,iBAAb,CAAgC,SAAUC,CAAV,CAAiBC,CAAjB,CAAyB,CACrDb,QAAQ,CAACc,iBAAT,CAA2B,SAA3B,EAAsC,CAAtC,EAAyCJ,KAAzC,CAAiDG,CAAM,CAACE,KAAxD,CACAf,QAAQ,CAACc,iBAAT,CAA2B,UAA3B,EAAuC,CAAvC,EAA0CJ,KAA1C,CAAkDG,CAAM,CAACG,KAAP,CAAaC,KAA/D,CACAjB,QAAQ,CAACc,iBAAT,CAA2B,WAA3B,EAAwC,CAAxC,EAA2CJ,KAA3C,CAAmDG,CAAM,CAACG,KAAP,CAAaE,MAAhE,CACAlB,QAAQ,CAACc,iBAAT,CAA2B,aAA3B,EAA0C,CAA1C,EAA6CJ,KAA7C,CAAsDG,CAAM,CAACG,KAAP,CAAaG,QAAb,CAAwB,GAAxB,CAA8B,GAApF,CACAnB,QAAQ,CAACc,iBAAT,CAA2B,cAA3B,EAA2C,CAA3C,EAA8CJ,KAA9C,CAAsDG,CAAM,CAACO,SAA7D,CACApB,QAAQ,CAACc,iBAAT,CAA2B,cAA3B,EAA2C,CAA3C,EAA8CJ,KAA9C,CAAsDG,CAAM,CAACQ,SAA7D,CACArB,QAAQ,CAACc,iBAAT,CAA2B,iBAA3B,EAA8C,CAA9C,EAAiDJ,KAAjD,CAAyDG,CAAM,CAACS,YAAhE,CAEA,GAAIvB,CAAY,EAAI,CAACO,CAArB,CAAmC,CAC/BP,CAAY,CAACW,KAAb,CAAqBG,CAAM,CAACE,KAC/B,CACJ,CAZD,IAaH,CA5BE,CA8BV,CA/BK,CAAN","sourcesContent":["// This file is part of Moodle - https://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <https://www.gnu.org/licenses/>.\n\n/*\n * @package    mod_clickview\n * @copyright  2021 ClickView Pty. Limited <info@clickview.com.au>\n * @license    https://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine([], function() {\n    return {\n        init: function () {\n            var displayTitle = document.getElementById('id_name'),\n                pluginFrame = document.getElementById('clickview_iframe'),\n                eventsApi = new CVEventsApi(pluginFrame.contentWindow),\n                userSetTitle = false;\n\n            if (displayTitle) {\n                displayTitle.onkeyup = function (e) {\n                    if (e.target.value) {\n                        userSetTitle = true;\n                    }\n                };\n            }\n\n            eventsApi.on('cv-lms-addvideo', function (event, detail) {\n                document.getElementsByName('cv-name')[0].value = detail.title;\n                document.getElementsByName('cv-width')[0].value = detail.embed.width;\n                document.getElementsByName('cv-height')[0].value = detail.embed.height;\n                document.getElementsByName('cv-autoplay')[0].value = (detail.embed.autoplay ? '1' : '0');\n                document.getElementsByName('cv-embedhtml')[0].value = detail.embedHtml;\n                document.getElementsByName('cv-embedlink')[0].value = detail.embedLink;\n                document.getElementsByName('cv-thumbnailurl')[0].value = detail.thumbnailUrl;\n\n                if (displayTitle && !userSetTitle) {\n                    displayTitle.value = detail.title;\n                }\n            }, true);\n        }\n    };\n});"],"file":"selector.min.js"}