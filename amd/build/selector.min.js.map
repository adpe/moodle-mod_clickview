{"version":3,"sources":["../src/selector.js"],"names":["define","init","displayTitle","document","getElementById","pluginFrame","eventsApi","CVEventsApi","contentWindow","userSetTitle","onkeyup","e","target","value","on","event","detail","embed","width","height","autoplay","embedHtml","embedLink","thumbnailUrl","title","data","JSON","onlineUrl","eventName"],"mappings":"AAoBAA,OAAM,0BAAC,EAAD,CAAK,UAAW,CAClB,MAAO,CACHC,IAAI,CAAE,eAAY,CACd,GAAIC,CAAAA,CAAY,CAAGC,QAAQ,CAACC,cAAT,CAAwB,SAAxB,CAAnB,CACIC,CAAW,CAAGF,QAAQ,CAACC,cAAT,CAAwB,iBAAxB,CADlB,CAEIE,CAAS,CAAG,GAAIC,CAAAA,WAAJ,CAAgBF,CAAW,CAACG,aAA5B,CAFhB,CAGIC,CAAY,GAHhB,CAKA,GAAIP,CAAJ,CAAkB,CACdA,CAAY,CAACQ,OAAb,CAAuB,SAAUC,CAAV,CAAa,CAChC,GAAIA,CAAC,CAACC,MAAF,CAASC,KAAb,CAAoB,CAChBJ,CAAY,GACf,CACJ,CACJ,CAEDH,CAAS,CAACQ,EAAV,CAAa,iBAAb,CAAgC,SAAUC,CAAV,CAAiBC,CAAjB,CAAyB,CACrDb,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCS,KAApC,CAA4CG,CAAM,CAACC,KAAP,CAAaC,KAAzD,CACAf,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCS,KAArC,CAA6CG,CAAM,CAACC,KAAP,CAAaE,MAA1D,CACAhB,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCS,KAAvC,CAAgDG,CAAM,CAACC,KAAP,CAAaG,QAAb,CAAwB,GAAxB,CAA8B,GAA9E,CACAjB,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCS,KAAxC,CAAgDG,CAAM,CAACK,SAAvD,CACAlB,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCS,KAAxC,CAAgDG,CAAM,CAACM,SAAvD,CACAnB,QAAQ,CAACC,cAAT,CAAwB,iBAAxB,EAA2CS,KAA3C,CAAmDG,CAAM,CAACO,YAA1D,CACApB,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCS,KAApC,CAA4CG,CAAM,CAACQ,KAAnD,CAEA,GAAItB,CAAY,EAAI,CAACO,CAArB,CAAmC,CAC/BP,CAAY,CAACW,KAAb,CAAqBG,CAAM,CAACQ,KAC/B,CACJ,CAZD,KAcAlB,CAAS,CAACQ,EAAV,CAAa,qBAAb,CAAoC,SAAUC,CAAV,CAAiBU,CAAjB,CAAuB,CACvDtB,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCS,KAAtC,CAA8CY,CAAI,CAACC,IAAnD,CACAvB,QAAQ,CAACC,cAAT,CAAwB,sBAAxB,EAAgDS,KAAhD,CAAwDY,CAAI,CAACE,SAA7D,CACAxB,QAAQ,CAACC,cAAT,CAAwB,sBAAxB,EAAgDS,KAAhD,CAAwDY,CAAI,CAACG,SAChE,CAJD,IAKH,CAlCE,CAoCV,CArCK,CAAN","sourcesContent":["// This file is part of Moodle - https://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <https://www.gnu.org/licenses/>.\n\n/*\n * @package    mod_clickview\n * @copyright  2021 ClickView Pty. Limited <info@clickview.com.au>\n * @license    https://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine([], function() {\n    return {\n        init: function () {\n            var displayTitle = document.getElementById('id_name'),\n                pluginFrame = document.getElementById('cv-plugin-frame'),\n                eventsApi = new CVEventsApi(pluginFrame.contentWindow),\n                userSetTitle = false;\n\n            if (displayTitle) {\n                displayTitle.onkeyup = function (e) {\n                    if (e.target.value) {\n                        userSetTitle = true;\n                    }\n                };\n            }\n\n            eventsApi.on('cv-lms-addvideo', function (event, detail) {\n                document.getElementById('cv-width').value = detail.embed.width;\n                document.getElementById('cv-height').value = detail.embed.height;\n                document.getElementById('cv-autoplay').value = (detail.embed.autoplay ? '1' : '0');\n                document.getElementById('cv-embedhtml').value = detail.embedHtml;\n                document.getElementById('cv-embedlink').value = detail.embedLink;\n                document.getElementById('cv-thumbnailurl').value = detail.thumbnailUrl;\n                document.getElementById('cv-title').value = detail.title;\n\n                if (displayTitle && !userSetTitle) {\n                    displayTitle.value = detail.title;\n                }\n            }, true);\n\n            eventsApi.on('cv-delegate-logging', function (event, data) {\n                document.getElementById('cv-logging').value = data.JSON;\n                document.getElementById('cv-logging-onlineurl').value = data.onlineUrl;\n                document.getElementById('cv-logging-eventname').value = data.eventName;\n            }, true);\n        }\n    };\n});"],"file":"selector.min.js"}